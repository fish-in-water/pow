(function(a){var b=a.POW;b.Chart.Radar=function(a,c,d){b.Chart.Core.call(this,a,c,d)},b.Chart.Core.prototype._inheritPrototype(b.Chart.Radar,b.Chart.Core);var c=b.Chart.Radar.prototype;c._DEFAULT={chart:{radarRadius:"",startingAngle:"0",radarBorderColor:"787878",radarBorderThickness:"2",radarBorderAlpha:"100",radarBorderDashed:"0",radarBorderDashedStyle:"-",radarFillColor:"FFFFFF",radarFillAlpha:"30",radarSpikeColor:"C1C0BE",radarSpikeThickness:"1",radarSpikeAlpha:"100",radarSpikeDashed:"0",radarSpikeDashedStyle:"-",divLineNum:"4",divLineColor:"C1C0BE",divLineThickness:"1",divLineAlpha:"100",divLineIsDashed:"0",divLineDashStyle:"-",showAlternateGridColor:"1",alternateGridColor:"F6F6F6",alternateGridAlpha:"100",showZeroPlane:"1",zeroPlaneColor:"545454",zeroPlaneThickness:"2",zeroPlaneAlpha:"100",zeroPlaneIsDashed:"0",zeroPlaneDashStyle:"-",yAxisDivLineRoundNumber:"5",seriesNameInToolTip:"1",dataValueInToolTip:"1",showXAxisLabel:"1",xAxisLabelPadding:"5",showYAxisLabel:"1",yAxisLabelPadding:"0",yAxisLabelAngle:"",showValueLabel:"1",valueLabelPadding:"5",seriesNameInValueLabel:"1",dataValueInValueLabel:"1",valueLabelSepChar:", ",valueLabelOutside:"1",plotBorderThickness:"1",plotBorderColor:"",plotBorderAlpha:"100",plotBorderDashed:"0",plotBorderDashedStyle:"-",plotFillAlpha:"30",plotFillColor:"",drawAnchors:"1",anchorSides:"0",anchorRadius:"3",anchorBorderColor:"000000",anchorBorderThickness:"1",anchorBorderAlpha:"100",anchorBgColor:"000000",anchorBgAlpha:"100",categories:{category:[{label:""}]},dataset:[{parentYAxis:"Y",seriesName:"",fillColor:"",fillAlpha:"",borderThickness:"1",borderColor:"",borderAlpha:"",borderDashed:"",borderDashedStyle:"",drawAnchors:"1",anchorsShowOnTop:"1",anchorSides:"0",anchorRadius:"3",anchorBorderColor:"000000",anchorBorderThickness:"1",anchorBorderAlpha:"100",anchorBgColor:"000000",anchorBgAlpha:"100",set:[{label:"",value:"0",displayValue:"",toolText:"",fillColor:"",fillAlpha:"",borderThickness:"",borderColor:"",borderAlpha:"",borderDashed:"",borderDashedStyle:""}]}]}},c._RESOURCE={},c._CONST={},b.Chart.Core.prototype._extendObject(c._DEFAULT,b.Chart.Core.prototype._DEFAULT),b.Chart.Core.prototype._extendObject(c._RESOURCE,b.Chart.Core.prototype._RESOURCE),b.Chart.Core.prototype._extendObject(c._CONST,b.Chart.Core.prototype._CONST),c.setData=function(a){this._setDefault(a),this._initAxises(a),this._initBBox(a),this._drawBase(a),this._drawRadar(a)},c.setDataXML=function(a){},c.setJSONData=function(a){},c._getDataByUrl=function(a){var b=this._loadXmlUrl(a),c=this._tranXml2Object(b);return this._setDefault(c),this._initAxises(c),c},c._initAxises=function(a){for(var b=this._getPosReg(a),c=this._getYAxisDiv(a,this._CONST.AXIS.Y,b,Math.floor(a.divLineNum-0),Math.floor(a.yAxisDivLineRoundNumber-0)),d=[],e=c.start;e<=c.end;e++)d[d.length]={value:e*c.each,label:this._getFormatNumber(a,e*c.each)};a.axises={yAxiseset:d}},c._setDefault=function(a){this._standardizeObject(a,this._DEFAULT.chart)},c._fixData=function(a){},c._drawRadar=function(a){this._setPatternInfo(a),this._createCobweb(a),this._createPatternPlot(a)},c._createCobweb=function(a){this._createRadarBg(a),this._createDivLine(a),this._createRadarSpike(a),this._createRadarBorder(a),this._createXAxisLabel(a),this._createYAxisLabel(a)},c._createXAxisLabel=function(a){var b=a.showXAxisLabel;if(this._CONST.ENABLE===b)for(var c=!a.categories||a.categories.category,d=Math.floor(a.radarRadius-0),e=this._getCanvasBBox(a),f=(e.x+e.x2)/2,g=(e.y+e.y2)/2,h=Math.floor(a.xAxisLabelPadding-0),i=this._getFontStyle(a,this._CONST.STYLEOBJECT.XAXISLABEL),j=0,k=c.length;j<k;j++){var l=c[j];this._createRadiantLabel({cx:f,cy:g,radius:d,angle:l.middleAngle,"vertical-center":this._CONST.ENABLE,label:l.label,"label-padding":h,"font-family":i.font,"font-size":i.size,"font-color":i.color,"font-weight":i.bold,"show-line":this._CONST.DISABLE})}},c._createYAxisLabel=function(a){var b=a.showYAxisLabel;if(this._CONST.ENABLE===b){var c=a.axises.yAxiseset,d=!a.categories||a.categories.category,e=Math.floor(a.radarRadius-0),f=this._getFontStyle(a,this._CONST.STYLEOBJECT.PYAXISLABEL),g=this._getCanvasBBox(a),h=(g.x+g.x2)/2,i=(g.y+g.y2)/2,j=Math.floor(a.yAxisLabelPadding-0),k=a.yAxisLabelAngle;k=k?(Math.floor(k-0)+Math.floor(a.startingAngle-0))%360:3<=d.length?(d[0].middleAngle+d[1].middleAngle)/2:d[0].middleAngle;var l=360/d.length,m=90-l/2,n=180-m-k%l,o=0;o=3<=d.length?e/Math.sin(n/180*Math.PI)*Math.sin(m/180*Math.PI):e;for(var p=0,q=c.length;p<q;p++){var r=Math.floor(h+(o*p/(q-1)+j)*Math.sin(k/180*Math.PI)),s=Math.floor(i-(o*p/(q-1)+j)*Math.cos(k/180*Math.PI));Raphael.vml&&(r+=2,s+=1);this._createText({text:c[p].label,cx:r,cy:s,angle:0,"font-family":f.font,"font-size":f.size,"font-color":f.color,"font-weight":f.bold,"text-align":this._CONST.TEXTALIGN.CENTER,"transform-origin":"center center"})}}},c._createRadarBorder=function(a){var b=!a.categories||a.categories.category;if(!(3>b.length)){for(var c=a.radarBorderColor,d=Math.floor(a.radarBorderThickness-0),e=Math.floor(a.radarBorderAlpha-0)/100,f=this._CONST.ENABLE===a.radarBorderDashed?a.radarBorderDashedStyle:"",g=a.axises.yAxiseset,h=(g[0].value,g[g.length-1].value),i=[],j=0,k=b.length;j<k;j++){var l=this._getAnchorPos(a,h,b[j].middleAngle);i[i.length]=j?["L",l.x,l.y]:["M",l.x,l.y]}i[i.length]=["Z"],this._paper.path(i).attr({stroke:this._getColor(c),"stroke-width":d,"stroke-opacity":e,"stroke-dasharray":f,"stroke-linejoin":"miter"})}},c._createRadarSpike=function(a){for(var b=!a.categories||a.categories.category,c=a.radarSpikeColor,d=Math.floor(a.radarSpikeThickness-0),e=Math.floor(a.radarSpikeAlpha-0)/100,f=this._CONST.ENABLE===a.radarSpikeDashed?a.radarSpikeDashedStyle:"",g=a.axises.yAxiseset,h=g[0].value,i=g[g.length-1].value,j=0,k=b.length;j<k;j++){var l=b[j].middleAngle,m=this._getAnchorPos(a,h,l),n=this._getAnchorPos(a,i,l),o=[];o[o.length]=["M",m.x,m.y],o[o.length]=["L",n.x,n.y],this._paper.path(o).attr({stroke:this._getColor(c),"stroke-width":d,"stroke-opacity":e,"stroke-dasharray":f})}},c._createRadarBg=function(a){var b=!a.categories||a.categories.category;if(!(3>b.length)){for(var c=a.radarFillColor,d=Math.floor(a.radarFillAlpha-0)/100,e=a.axises.yAxiseset,f=(e[0].value,e[e.length-1].value),g=[],h=0,i=b.length;h<i;h++){var j=this._getAnchorPos(a,f,b[h].middleAngle);g[g.length]=h?["L",j.x,j.y]:["M",j.x,j.y]}g[g.length]=["Z"],this._paper.path(g).attr({"stroke-width":0,fill:this._getColor(c),"fill-opacity":d})}},c._createDivLine=function(a){var b=!a.categories||a.categories.category;if(!(3>b.length)){var c=Math.floor(a.radarRadius-0),d=(Math.floor(a.divLineNum-0),a.divLineColor),e=Math.floor(a.divLineThickness),f=Math.floor(a.divLineAlpha-0)/100,g=this._CONST.ENABLE===a.divLineIsDashed?a.divLineDashStyle:"",h=a.showAlternateGridColor,i=a.alternateGridColor,j=Math.floor(a.alternateGridAlpha-0)/100,k=(a.showZeroPlane,a.zeroPlaneColor,Math.floor(a.zeroPlaneThickness-0),Math.floor(a.zeroPlaneAlpha-0),this._CONST.ENABLE===a.zeroPlaneIsDashed&&a.zeroPlaneDashStyle,a.axises.yAxiseset);if(this._CONST.ENABLE===h)for(var l=360/b.length,m=c*Math.cos(l/2/180*Math.PI)/(k.length-1),n=1,o=k.length-1;n<o;n++)if(1==n%2){for(var p=[],q=(k[n].value+k[n+1].value)/2,r=0,s=b.length;r<s;r++){var t=this._getAnchorPos(a,q,b[r].middleAngle);p[p.length]=r?["L",t.x,t.y]:["M",t.x,t.y]}p[p.length]=["Z"],this._paper.path(p).attr({stroke:this._getColor(i),"stroke-width":m,"stroke-opacity":j,"stroke-linejoin":"miter"})}for(var n=0,o=k.length-1;n<o;n++){for(var p=[],r=0,s=b.length;r<s;r++){var t=this._getAnchorPos(a,k[n].value,b[r].middleAngle);p[p.length]=r?["L",t.x,t.y]:["M",t.x,t.y]}p[p.length]=["Z"],this._paper.path(p).attr({stroke:this._getColor(d),"stroke-width":e,"stroke-opacity":f,"stroke-dasharray":g})}}},c._getAnchorPos=function(a,b,c){var d=a.axises.yAxiseset,e=Math.floor(a.radarRadius-0),f=this._getCanvasBBox(a),g=Math.floor((f.x+f.x2)/2),h=Math.floor((f.y+f.y2)/2),i=d[0].value-0,j=d[d.length-1].value-0,k=(b-i)/(j-i)*e;return{x:Math.floor(g+k*Math.sin(c/180*Math.PI)),y:Math.floor(h-k*Math.cos(c/180*Math.PI))}},c._createPatternPlot=function(a){var b=a.dataset;if(!b)return null;for(var c=!a.categories||a.categories.category,d=a.axises.yAxiseset,e=d[0].value-0,f=d[d.length-1].value-0,g=0,h=b.length;g<h;g++){var i=b[g].set;if(i){for(var j=Math.floor((b[g].borderThickness||a.plotBorderThickness)-0),k=b[g].borderColor||a.plotBorderColor,l=Math.floor((b[g].borderAlpha||a.plotBorderAlpha)-0)/100,m=b[g].borderDashed||a.plotBorderDashed,n=this._CONST.ENABLE===m?b[g].borderDashedStyle||a.plotBorderDashedStyle:"",o=b[g].fillColor||a.plotFillColor,p=Math.floor((b[g].fillAlpha||a.plotFillAlpha)-0)/100,q=[],r=0,s=c.length;r<s;r++){var t=null;t=i.length>r?i[r].value-0:e;var u=this._getAnchorPos(a,t,c[r].middleAngle);q[q.length]=r?["L",u.x,u.y]:["M",u.x,u.y]}q[q.length]=["Z"],this._paper.path(q).attr({stroke:this._getColor(k),"stroke-width":j,"stroke-opacity":l,"stroke-dasharray":n,fill:this._getColor(o),"fill-opacity":p})}}for(var g=0,h=b.length;g<h;g++){var i=b[g].set;if(i){var v=i.drawAnchors||a.drawAnchors;if(this._CONST.ENABLE===v)for(var w=Math.floor((b[g].anchorSides||a.anchorSides)-0),x=Math.floor((b[g].anchorRadius||a.anchorRadius)-0),y=b[g].anchorBorderColor||a.anchorBorderColor,z=Math.floor((b[g].anchorBorderThickness||a.anchorBorderThickness)-0),A=Math.floor((b[g].anchorBorderAlpha||a.anchorBorderAlpha)-0)/100,B=b[g].anchorBgColor||a.anchorBgColor,C=Math.floor((b[g].anchorBgAlpha||a.anchorBgAlpha)-0)/100,r=0,s=i.length;r<s;r++){var D=i[r],t=D.value-0,u=this._getAnchorPos(a,t,c[r].middleAngle),E=this._createAnchor({cx:u.x,cy:u.y,side:w,radius:x,"border-color":y,"border-thickness":z,"border-alpha":A,"fill-color":B,"fill-alpha":C});E.node["click-data"]=D.click,E.node["mouseover-data"]=D.mouseover,E.node["mousemove-data"]=D.mousemove,E.node["mouseout-data"]=D.mouseout,E.node["tooltip-data"]=D.toolTip}}}var F=a.showValueLabel;if(this._CONST.ENABLE===F)for(var G=this._getFontStyle(a,this._CONST.STYLEOBJECT.VALUELABEL),H=Math.floor(a.valueLabelPadding-0),I=Math.floor(a.radarRadius-0),d=a.axises.yAxiseset,e=d[0].value-0,f=d[d.length-1].value-0,J=this._getCanvasBBox(a),K=(J.x+J.x2)/2,L=(J.y+J.y2)/2,g=0,h=b.length;g<h;g++){var i=b[g].set;if(i)for(var r=0,s=i.length;r<s;r++){var D=i[r],t=D.value-0,M=I*(t-e)/(f-e);this._createRadiantLabel({cx:K,cy:L,radius:M,angle:D.middleAngle,"vertical-center":this._CONST.ENABLE,label:D.valueLabel,"label-padding":H,"font-family":G.font,"font-size":G.size,"font-color":G.color,"font-weight":G.bold,"show-line":this._CONST.DISABLE})}}},c._setPatternInfo=function(a){var b=a.dataset;if(!b)return null;for(var c=!a.categories||a.categories.category,d=360/c.length,e=Math.floor(a.startingAngle-0)%360,f=0,g=c.length;f<g;f++)c[f].middleAngle=e+d*f;for(var f=0,g=b.length;f<g;f++)for(var h=b[f].set,e=Math.floor(a.startingAngle-0)%360,i=0,j=h.length,k=c.length;i<j&&i<k;i++){var l=h[i],m=(l.value||"0")-0;l.middleAngle=(e+d*i)%360,l.formatValue=this._getFormatNumber(a,m),l.toolTip=this._getToolTip(a,b[f],l),l.valueLabel=this._getValueLabel(a,b[f],l)}var n=a.radarRadius;if(!n){n=Number.MAX_VALUE;for(var o=(a.showXAxisLabel,a.xAxisLabelPadding,[]),f=0,g=c.length;f<g;f++){var p=c[f];o[o.length]={valueLabel:p.label||"",middleAngle:d*f}}var q=this._calcSmartRadius(a,o,this._CONST.STYLEOBJECT.XAXISLABEL);n=n<q?n:q;for(var f=0,g=b.length,r=c.length;f<g&&f<r;f++){var h=b[f].set,q=this._calcSmartRadius(a,h,this._CONST.STYLEOBJECT.VALUELABEL);n=n<q?n:q}a.radarRadius=n}}}).call(this,window);